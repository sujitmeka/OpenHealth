{
  "branchName": "main",
  "projectName": "healthai",
  "sprintFocus": "UX Polish + Gamification",
  "designReference": "Clean, modern health dashboard like InsideTracker. Soft shadows, consistent color coding (green=optimal, yellow=normal, pink/red=out of range). Good typography hierarchy. Polished but not flashy.",
  "userStories": [
    {
      "id": "UX-001",
      "title": "Tab navigation system",
      "acceptanceCriteria": [
        "Top navigation bar with tabs: Dashboard, Biomarkers, Goals, Data Sources",
        "Clean horizontal tab design",
        "Active tab clearly highlighted",
        "URL changes with tab (e.g., /dashboard, /biomarkers, /goals, /data)",
        "Use Next.js App Router for pages",
        "Tabs work without full page reload",
        "typecheck passes"
      ],
      "priority": 1,
      "passes": true,
      "notes": "Create app/(main)/dashboard, app/(main)/biomarkers, app/(main)/goals, app/(main)/data-sources folders. Shared layout with tab nav."
    },
    {
      "id": "UX-002",
      "title": "Color system and design tokens",
      "acceptanceCriteria": [
        "lib/design/tokens.ts exists with color constants",
        "Status colors: optimal (#10b981 green), normal (#eab308 yellow), outOfRange (#ec4899 pink)",
        "Background colors: card (#ffffff), page (#f8fafc), accent backgrounds",
        "Text colors: primary (#0f172a), secondary (#64748b), muted (#94a3b8)",
        "Consistent shadow tokens: sm, md, lg",
        "Border radius tokens: sm (6px), md (12px), lg (16px)",
        "All components use these tokens, not hardcoded colors",
        "typecheck passes"
      ],
      "priority": 2,
      "passes": true,
      "notes": "Single source of truth for design. Import tokens everywhere."
    },
    {
      "id": "UX-003",
      "title": "Biomarker summary card",
      "acceptanceCriteria": [
        "components/biomarkers/BiomarkerSummary.tsx exists",
        "Shows: Total count, Optimal count, Normal count, Out of Range count",
        "Large numbers with labels below",
        "Horizontal stacked bar showing proportion (green | yellow | pink)",
        "Bar segments proportional to counts",
        "Clean card with subtle shadow",
        "Pulls data from HealthDataStore",
        "typecheck passes"
      ],
      "priority": 3,
      "passes": true,
      "notes": "Reference: InsideTracker screenshot. 105 Total | 50 Optimal | 40 Normal | 15 Out of Range with colored bar below."
    },
    {
      "id": "UX-004",
      "title": "Biomarker search and filter controls",
      "acceptanceCriteria": [
        "Search input to filter biomarkers by name",
        "Dropdown filter: All ranges, Optimal, Normal, Out of Range",
        "Dropdown filter: Category (Lipids, Metabolic, Inflammation, Hormones, etc.)",
        "Filters work together (AND logic)",
        "Clear/reset filters option",
        "Styled consistently with design tokens",
        "typecheck passes"
      ],
      "priority": 4,
      "passes": true,
      "notes": "Use shadcn Select or custom dropdown. Search is instant filter, not submit-based."
    },
    {
      "id": "UX-005",
      "title": "Biomarker table with status badges",
      "acceptanceCriteria": [
        "components/biomarkers/BiomarkerTable.tsx exists",
        "Columns: Name, Status, Value, History",
        "Name column: biomarker name, sortable",
        "Status column: colored badge (Optimal/Normal/Out of Range)",
        "Value column: number with unit",
        "Rows are cards with subtle separation",
        "Sortable by clicking column headers",
        "Responsive (works on laptop screens)",
        "typecheck passes"
      ],
      "priority": 5,
      "passes": true,
      "notes": "Not a traditional table - more like stacked cards. Each row is its own card."
    },
    {
      "id": "UX-006",
      "title": "Sparkline history charts",
      "acceptanceCriteria": [
        "components/charts/Sparkline.tsx exists",
        "Mini inline chart showing trend",
        "Shows reference range as background band (green zone)",
        "Current value as dot on the line",
        "Line color matches status (green/yellow/pink)",
        "Works with minimal data (even 1-2 points)",
        "Fixed small size (~120px wide, ~40px tall)",
        "typecheck passes"
      ],
      "priority": 6,
      "passes": true,
      "notes": "Use recharts or visx for sparklines. Show optimal range as light green background band."
    },
    {
      "id": "UX-007",
      "title": "Biomarkers page assembly",
      "acceptanceCriteria": [
        "app/(main)/biomarkers/page.tsx exists",
        "Layout: Summary card at top, filters below, table below filters",
        "Filters affect table content",
        "Page title: 'Biomarkers'",
        "Clean spacing and hierarchy",
        "Loads real data from HealthDataStore",
        "typecheck passes"
      ],
      "priority": 7,
      "passes": true,
      "notes": "Assemble components into full page."
    },
    {
      "id": "UX-008",
      "title": "Health Score calculation",
      "acceptanceCriteria": [
        "lib/calculations/health-score.ts exists",
        "calculateHealthScore(healthData) returns 0-100 number",
        "Score based on: % optimal biomarkers, PhenoAge delta, activity metrics",
        "Weights: biomarkers 50%, age delta 30%, activity 20%",
        "Returns object: { score: number, breakdown: {...} }",
        "typecheck passes"
      ],
      "priority": 8,
      "passes": false,
      "notes": "Simple weighted formula. 100 = perfect health. 0 = everything out of range."
    },
    {
      "id": "UX-009",
      "title": "Health Score card",
      "acceptanceCriteria": [
        "components/dashboard/HealthScoreCard.tsx exists",
        "Large circular or semi-circular gauge showing score",
        "Score number prominently displayed (e.g., '81 points')",
        "Status label: Optimal (80+), Good (60-79), Fair (40-59), Needs Work (<40)",
        "Colored by status (green/yellow/orange/red)",
        "Clean card design matching other cards",
        "typecheck passes"
      ],
      "priority": 9,
      "passes": false,
      "notes": "Prominent score display. Can use SVG arc or recharts RadialBarChart."
    },
    {
      "id": "UX-010",
      "title": "Goals generation from health data",
      "acceptanceCriteria": [
        "lib/analysis/goals.ts exists",
        "generateGoals(healthData) returns array of Goal objects",
        "Goal: { id, title, description, priority: 'high'|'medium'|'low', category, actionItems[] }",
        "Generates goals based on out-of-range biomarkers",
        "High priority: significantly out of range or critical markers (LDL, glucose)",
        "Medium priority: moderately out of range",
        "Low priority: borderline or optimization opportunities",
        "Max 5-7 goals (most important)",
        "typecheck passes"
      ],
      "priority": 10,
      "passes": false,
      "notes": "Reference HEALTH_KNOWLEDGE.md for what goals to generate. E.g., high LDL â†’ 'Lower artery-clogging cholesterol'"
    },
    {
      "id": "UX-011",
      "title": "Goal cards with gradient backgrounds",
      "acceptanceCriteria": [
        "components/goals/GoalCard.tsx exists",
        "Large card with gradient background",
        "High priority: warm red/orange gradient",
        "Medium priority: warm amber gradient",
        "Low priority: cool blue gradient",
        "Priority badge in top right corner",
        "Title in large white text",
        "'How to solve this >' link/button",
        "Expandable to show action items",
        "typecheck passes"
      ],
      "priority": 11,
      "passes": false,
      "notes": "Reference: InsideTracker Goals screenshot. Rich gradient backgrounds with white text overlay."
    },
    {
      "id": "UX-012",
      "title": "Goals page assembly",
      "acceptanceCriteria": [
        "app/(main)/goals/page.tsx exists",
        "Page title: 'Goals'",
        "Vertical stack of GoalCards",
        "Sorted by priority (high first)",
        "Shows generated goals from health data",
        "Empty state if no goals (everything optimal)",
        "typecheck passes"
      ],
      "priority": 12,
      "passes": false,
      "notes": "Simple vertical layout. 3-5 goal cards typically."
    },
    {
      "id": "UX-013",
      "title": "Data Sources page",
      "acceptanceCriteria": [
        "app/(main)/data-sources/page.tsx exists",
        "Lists all files in /data folder",
        "Shows: filename, file type icon, size, last modified",
        "Status indicator: loaded successfully / error / pending",
        "Shows what data was extracted from each file",
        "'Sync Now' button to reload all data",
        "Instructions for adding new files",
        "typecheck passes"
      ],
      "priority": 13,
      "passes": false,
      "notes": "Transparency about what data is loaded. Helps user debug issues."
    },
    {
      "id": "UX-014",
      "title": "Dashboard page redesign",
      "acceptanceCriteria": [
        "app/(main)/dashboard/page.tsx updated",
        "Top row: Health Score card + Biological Age card side by side",
        "Second row: Digital Twin (left 50%) + Quick Stats (right 50%)",
        "Quick Stats: HRV, Sleep Score, Body Fat % in compact cards",
        "Third row: Top 3 Goals preview (compact version)",
        "'View all goals' link to Goals page",
        "Clean grid layout with consistent spacing",
        "typecheck passes"
      ],
      "priority": 14,
      "passes": false,
      "notes": "Dashboard is the overview. Shows highlights, links to detail pages."
    },
    {
      "id": "UX-015",
      "title": "Biological Age card redesign",
      "acceptanceCriteria": [
        "components/dashboard/BiologicalAgeCard.tsx exists or updated",
        "Shows: Chronological Age, Biological Age (PhenoAge), Delta",
        "Delta prominently displayed with +/- and color",
        "Negative delta (younger): green, positive indicator",
        "Positive delta (older): pink, negative indicator",
        "Mini sparkline showing biological age over time (if data exists)",
        "Clean card matching design system",
        "typecheck passes"
      ],
      "priority": 15,
      "passes": false,
      "notes": "Reference: InsideTracker screenshot. Clean layout with inline sparkline."
    },
    {
      "id": "UX-016",
      "title": "Quick stat mini cards",
      "acceptanceCriteria": [
        "components/dashboard/QuickStatCard.tsx exists",
        "Compact card showing: label, value, status dot",
        "Used for: HRV, RHR, Sleep Score, Body Fat %",
        "Status dot: green (optimal), yellow (normal), pink (out of range)",
        "Optional trend arrow (up/down/stable)",
        "Consistent small size, fits 3-4 in a row",
        "typecheck passes"
      ],
      "priority": 16,
      "passes": false,
      "notes": "Small summary cards for at-a-glance metrics."
    },
    {
      "id": "UX-017",
      "title": "Typography and spacing polish",
      "acceptanceCriteria": [
        "Consistent heading sizes across all pages",
        "Page titles: text-2xl font-semibold",
        "Section titles: text-lg font-medium",
        "Body text: text-sm",
        "Consistent padding: cards p-6, sections gap-6",
        "All pages feel cohesive",
        "No orphaned styles or inconsistent spacing",
        "typecheck passes"
      ],
      "priority": 17,
      "passes": false,
      "notes": "Polish pass. Review all pages for consistency."
    },
    {
      "id": "UX-018",
      "title": "Loading and empty states",
      "acceptanceCriteria": [
        "Loading skeleton components for cards",
        "Empty state for biomarkers: 'No biomarkers loaded. Add files to /data folder.'",
        "Empty state for goals: 'No goals - your health looks great!'",
        "Error state if data parsing fails",
        "Suspense boundaries where appropriate",
        "typecheck passes"
      ],
      "priority": 18,
      "passes": false,
      "notes": "Polish for edge cases."
    },
    {
      "id": "UX-019",
      "title": "Final polish and QA",
      "acceptanceCriteria": [
        "All pages look consistent and professional",
        "Color coding is consistent everywhere",
        "No console errors",
        "Navigation works smoothly",
        "Data flows correctly to all components",
        "Looks good at 1280px+ width",
        "typecheck passes"
      ],
      "priority": 19,
      "passes": false,
      "notes": "Final review. Test all pages and flows."
    }
  ]
}
